<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0">

	<service auto-export="interfaces">
		<bean
			class="org.ops4j.pax.web.extender.whiteboard.runtime.DefaultResourceMapping">
			<property name="alias" value="/static/js/org.soluvas.web.backbone" />
			<property name="path" value="/js" />
		</bean>
	</service>

	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptModuleImpl">
			<argument value="underscore" />
			<argument value="org.soluvas.web.backbone/underscore-1.4.4" />
			<argument
				value="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptShimImpl">
			<argument value="underscore" />
			<argument>
				<set />
			</argument>
			<argument value="_" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptModuleImpl">
			<argument value="backbone" />
			<argument value="org.soluvas.web.backbone/backbone-0.9.10" />
			<argument
				value="//cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.10/backbone-min" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptShimImpl">
			<argument value="backbone" />
			<argument>
				<set>
					<value>underscore</value>
					<value>jquery</value>
				</set>
			</argument>
			<argument value="Backbone" />
		</bean>
	</service>

	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptModuleImpl">
			<argument value="handlebars" />
			<argument value="org.soluvas.web.backbone/handlebars-1.0.rc.3" />
			<argument
				value="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.rc.2/handlebars.min" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptShimImpl">
			<argument value="handlebars" />
			<argument>
				<set />
			</argument>
			<argument value="Handlebars" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptAliasImpl">
			<argument value="handlebars.runtime" />
			<argument value="handlebars" />
			<argument value="handlebars" />
		</bean>
	</service>

	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptModuleImpl">
			<argument value="sugar" />
			<argument value="org.soluvas.web.backbone/sugar-1.3.9-custom.development" />
			<argument value="//cdnjs.cloudflare.com/ajax/libs/sugar/1.3.8/sugar.min" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptShimImpl">
			<argument value="sugar" />
			<argument>
				<set />
			</argument>
			<argument value="Date" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptModuleImpl">
			<argument value="sugar_id" />
			<argument value="org.soluvas.web.backbone/sugar_id" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptShimImpl">
			<argument value="sugar_id" />
			<argument>
				<set>
					<value>sugar</value>
				</set>
			</argument>
			<argument value="Date" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptModuleImpl">
			<argument value="livevalidation" />
			<argument value="org.soluvas.web.backbone/livevalidation_amd-1.3" />
		</bean>
	</service>

	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptModuleImpl">
			<argument value="pref.locale" />
			<argument value="org.soluvas.web.backbone/pref.locale" />
		</bean>
	</service>

	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptModuleImpl">
			<argument value="uritemplate" />
			<argument value="org.soluvas.web.backbone/uritemplate" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptShimImpl">
			<argument value="uritemplate" />
			<argument>
				<set />
			</argument>
			<argument value="UriTemplate" />
		</bean>
	</service>

	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptModuleImpl">
			<argument value="backbone.paginator" />
			<argument value="org.soluvas.web.backbone/backbone.paginator" />
		</bean>
	</service>
	<service auto-export="interfaces">
		<bean class="org.soluvas.web.site.JavaScriptShimImpl">
			<argument value="backbone.paginator" />
			<argument>
				<set>
					<value>jquery</value>
					<value>backbone</value>
				</set>
			</argument>
			<argument value="BackbonePaginator" />
		</bean>
	</service>

</blueprint>
